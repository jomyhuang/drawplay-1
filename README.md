# 抽卡模拟器

一个功能完整的抽卡模拟系统,支持GUI和命令行两种操作方式。

## 功能特点

### 1. 多样化的抽卡系统
- 支持单抽和五连抽
- 三种不同类型的卡包(A/B/C)
- 五个稀有度等级(R/SR/SSR/AR/BP)
- 智能的卡池管理系统

### 2. 丰富的统计功能
- 实时显示卡池剩余情况
- 详细的抽卡记录
- 可视化的数据统计图表
- 支持导出Excel报表

### 3. 双重界面
- 图形界面(GUI)：基于tkinter开发
- 命令行界面(CLI)：适合脚本操作

## 系统设计

### 卡牌系统
稀有度分布：
- R卡：40% (普通卡)
- SR卡：30% (稀有卡)
- SSR卡：20% (超稀有卡)
- AR卡：7% (限定卡)
- BP卡：3% (特殊卡)

### 卡包类型
1. A类型卡包 (70%概率)
   - 3张R卡
   - 1张SR卡
   - 1张SSR卡

2. B类型卡包 (20%概率)
   - 2张R卡
   - 1张SR卡
   - 1张SSR卡
   - 1张AR卡

3. C类型卡包 (10%概率)
   - 2张R卡
   - 1张SR卡
   - 1张SSR卡
   - 1张BP卡

## 安装说明

1. 环境要求
   - Python 3.7+
   - pip包管理器

2. 安装依赖
```bash
pip install -r requirements.txt
```

## 使用说明

### GUI模式
```bash
python gui_main.py
```

### 命令行模式
```bash
python cli_main.py
```

## 主要功能说明

### 1. 抽卡功能
- 单次抽卡：抽取一个卡包
- 五连抽：连续抽取5个卡包
- 卡包打乱：随机调整剩余卡包顺序

### 2. 统计功能
- 查看卡池剩余情况
- 显示已抽取卡包统计
- 生成数据分析图表

### 3. 数据导出
- 支持导出Excel格式
- 包含详细的抽卡记录
- 自动生成统计报表

## 项目结构
```
抽卡模拟器/
├── main.py          # 程序入口
├── gui_main.py      # GUI界面
├── cli_main.py      # 命令行界面
├── card_pool.py     # 卡池管理
├── card_draw.py     # 抽卡系统
├── card.py          # 卡片类
├── config.py        # 配置管理
└── requirements.txt # 依赖清单
```

## 开发相关

### 测试运行
```bash
# 运行单元测试
python -m pytest tests/

# 生成测试覆盖率报告
python -m pytest --cov=. tests/
```

### 代码规范
- 使用black进行代码格式化
- 使用flake8进行代码检查

## 注意事项
1. 首次运行前请确保安装所有依赖
2. GUI模式需要支持图形界面的环境
3. 导出功能需要足够的磁盘权限

## 更新日志
- v1.0.0: 初始版本发布
  - 实现基础抽卡功能
  - 添加GUI和CLI双界面
  - 支持数据导出和统计


